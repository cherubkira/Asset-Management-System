{% extends "asset1/sidebar.html" %}

{% block page_content %}
<div class="p-4">
  <h2 class="text-2xl font-semibold mb-4">Asset History</h2>

  {% if history %}
  <div class="overflow-x-auto bg-white rounded shadow">
    <table class="min-w-full divide-y divide-gray-200 rounded-lg shadow-sm">
      <thead class="bg-gray-100">
        <tr>
          <th class="px-6 py-3 text-left text-sm font-medium text-gray-600 uppercase tracking-wider">ID</th>
          <th class="px-6 py-3 text-left text-sm font-medium text-gray-600 uppercase tracking-wider">Asset</th>
          <th class="px-6 py-3 text-left text-sm font-medium text-gray-600 uppercase tracking-wider">Assigned From</th>
          <th class="px-6 py-3 text-left text-sm font-medium text-gray-600 uppercase tracking-wider">Assigned To</th>
          <th class="px-6 py-3 text-left text-sm font-medium text-gray-600 uppercase tracking-wider">Note</th>
          <th class="px-6 py-3 text-left text-sm font-medium text-gray-600 uppercase tracking-wider">Assigned Date</th>
        </tr>
      </thead>
      <tbody class="bg-white divide-y divide-gray-200">
        {% for req in history %}
        <tr class="hover:bg-gray-100">
          <td class="py-2 px-3 text-sm">{{ forloop.counter }}</td>
          <td class="py-2 px-3 text-sm">{{ req.asset.name }}</td>
          <td class="py-2 px-3 text-sm">{{ req.assigned_from }}</td>
          <td class="py-2 px-3 text-sm">{{ req.assigned_to }}</td>
          <td class="py-2 px-3 text-sm">{{ req.note|default:"â€”" }}</td>
          <td class="py-2 px-3 text-sm">{{ req.created_at|date:"Y-m-d H:i" }}</td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="6" class="py-4 px-3 text-center text-gray-500">No history found.</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  {% else %}
    <p class="text-gray-500">No history found.</p>
  {% endif %}
</div>
{% endblock %}
