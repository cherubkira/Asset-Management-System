{% extends "asset1/sidebar.html" %}
{% load static %}

{% block page_content %}
<div class="max-w-6xl mx-auto mt-10 p-6 bg-white rounded-lg shadow-md">
  

  <table class="min-w-full border border-gray-300 rounded-md">
    <thead class="bg-gray-100">
      <tr>
        <th class="px-4 py-2 border text-center">ID</th>
        <th class="px-4 py-2 border">Asset Name</th>
        <th class="px-4 py-2 border text-center">Status</th>
        <th class="px-4 py-2 border text-center">Created Date</th>
        <th class="px-4 py-2 border text-center">Action</th>
      </tr>
    </thead>
    <tbody>
      {% for asset in assets %}
      <tr class="hover:bg-gray-50">
        <td class="px-4 py-2 border text-center">{{ asset.id }}</td>
        <td class="px-4 py-2 border">{{ asset.name }}</td>
        <td class="px-4 py-2 border text-center">
          {% if asset.status == 'available' %}
            <span class="px-2 py-1 bg-green-200 text-green-800 rounded-full text-sm font-semibold">Available</span>
          {% elif asset.status == 'assigned' %}
            <span class="px-2 py-1 bg-blue-200 text-blue-800 rounded-full text-sm font-semibold">Assigned</span>
          {% elif asset.status == 'maintenance' %}
            <span class="px-2 py-1 bg-yellow-200 text-yellow-800 rounded-full text-sm font-semibold">Maintenance</span>
          {% elif asset.status == 'lost' %}
            <span class="px-2 py-1 bg-red-200 text-red-800 rounded-full text-sm font-semibold">Lost</span>
          {% elif asset.status == 'retired' %}
            <span class="px-2 py-1 bg-gray-300 text-gray-800 rounded-full text-sm font-semibold">Retired</span>
          {% endif %}
        </td>
        <td class="px-4 py-2 border text-center">
          {{ asset.created_at|date:"Y-m-d" }}
        </td>
        <td class="px-4 py-2 border text-center">
          <form method="post" action="{% url 'asset1:asset_delete' asset.id %}" onsubmit="return confirm('Are you sure you want to delete this asset?');">
            {% csrf_token %}
            <button type="submit" class="px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600">
              Delete
            </button>
          </form>
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="5" class="px-4 py-2 text-center text-gray-500">
          No assets found.
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
