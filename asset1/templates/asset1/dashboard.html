{% extends "asset1/sidebar.html" %}
{% load static %}
{% block page_content %}

<div class="d-flex"  style="margin:0; padding:0;">


  <main style="flex:1; margin-left:10px; padding:0;">

    <div style="display:flex; flex-wrap:wrap; margin:10px;">
      <!-- Total Assets -->
      <div style="flex:0 0 25%; padding:2px;">
        <div class="card shadow-sm border-0">
          <div class="card-body bg-primary text-white rounded text-center p-2">
            <i class="bi bi-bank fs-1 d-block"></i>
            <h5>Total Assets</h5>
            <h3>{{ total_assets }}</h3>
          </div>
        </div>
      </div>
      <!-- Available -->
      <div style="flex:0 0 25%; padding:2px;">
        <div class="card shadow-sm border-0">
          <div class="card-body bg-success text-white rounded text-center p-2">
            <i class="bi bi-check2-circle fs-1 d-block"></i>
            <h5>Available</h5>
            <h3>{{ available }}</h3>
          </div>
        </div>
      </div>
      <!-- Assigned -->
      <div style="flex:0 0 25%; padding:2px;">
        <div class="card shadow-sm border-0">
          <div class="card-body bg-warning text-dark rounded text-center p-2">
            <i class="bi bi-people-fill fs-1 d-block"></i>
            <h5>Assigned</h5>
            <h3>{{ assigned }}</h3>
          </div>
        </div>
      </div>
      <!-- Pending -->
      <div style="flex:0 0 25%; padding:2px;">
        <div class="card shadow-sm border-0">
          <div class="card-body bg-danger text-white rounded text-center p-2">
            <i class="bi bi-person-lines-fill fs-1 d-block"></i>
            <h5>Pending Requests</h5>
            <h3>{{ pending_requests }}</h3>
          </div>
        </div>
      </div>
    </div>



    <!-- Recent Assignments -->
<h4 class="mt-2" style="margin-left:5px;">Recent Assignments</h4>
<div style="overflow-x:auto; margin:5px;">
  <table class="table table-striped table-hover" style="margin:0;">
    <thead class="table-dark">
      <tr>
        
        <th>Asset</th>
        <th>From</th>
        <th>To</th>
        <th>At</th>
      </tr>
    </thead>
    <tbody>
      {% for a in recent_assignments %}
        <tr>
          <td>{{a.asset.id}}</td>
          <td>{{ a.asset.name }}</td>
          <td>{{ a.assigned_from }}</td>
          <td>{{ a.assigned_to }}</td>
          <td>{{ a.created_at }}</td>
        </tr>
      {% empty %}
        <tr><td colspan="4" class="text-center">No assignments yet.</td></tr>
      {% endfor %}
    </tbody>
  </table>
</div>


  </main>

  <!-- Main Content -->
  
    
</div>

{% endblock %}
